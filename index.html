<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Are You Ready to Retire? | The Retirement Trap</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700;900&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Source Sans Pro','Segoe UI',sans-serif; background:#faf9f7; color:#1c1917; line-height:1.6; }
        #app { max-width:720px; margin:0 auto; padding:24px 20px; min-height:100vh; }
        .quiz-header { text-align:center; margin-bottom:28px; padding-bottom:20px; border-bottom:1px solid #e7e5e4; }
        .quiz-header h1 { font-family:'Merriweather',Georgia,serif; font-size:22px; font-weight:700; color:#1c1917; margin-bottom:4px; }
        .quiz-header .subtitle { color:#78716c; font-size:14px; }
        .progress-wrap { margin-bottom:24px; }
        .progress-info { display:flex; justify-content:space-between; font-size:13px; color:#78716c; margin-bottom:6px; }
        .progress-bar { height:4px; background:#e7e5e4; border-radius:2px; overflow:hidden; }
        .progress-fill { height:100%; background:#1e40af; border-radius:2px; transition:width 0.4s ease; }
        .question-text { font-family:'Merriweather',Georgia,serif; font-size:17px; font-weight:700; margin-bottom:6px; line-height:1.5; }
        .question-cat { font-size:12px; font-weight:600; text-transform:uppercase; letter-spacing:0.08em; color:#1e40af; margin-bottom:16px; }
        .option { display:flex; align-items:flex-start; gap:12px; background:white; border:1.5px solid #e7e5e4; border-radius:8px; padding:14px 16px; margin-bottom:8px; cursor:pointer; transition:all 0.15s ease; text-align:left; width:100%; font-size:15px; line-height:1.45; }
        .option:hover { border-color:#93b4f5; background:#f8faff; }
        .option.selected { background:#eff6ff; border-color:#1e40af; }
        .option-radio { width:18px; height:18px; min-width:18px; border-radius:50%; border:2px solid #d6d3d1; margin-top:2px; display:flex; align-items:center; justify-content:center; transition:all 0.15s; }
        .option.selected .option-radio { border-color:#1e40af; background:#1e40af; }
        .option.selected .option-radio::after { content:''; width:6px; height:6px; background:white; border-radius:50%; }
        .btn-row { margin-top:24px; display:flex; gap:10px; }
        .btn { padding:12px 24px; border:none; border-radius:8px; cursor:pointer; font-size:15px; font-weight:600; transition:all 0.15s ease; }
        .btn:disabled { opacity:0.4; cursor:not-allowed; }
        .btn-back { background:#f5f5f4; color:#57534e; }
        .btn-back:hover { background:#e7e5e4; }
        .btn-next { flex:1; background:#1e40af; color:white; }
        .btn-next:hover:not(:disabled) { background:#1e3a8a; }
        .btn-cancel { background:transparent; color:#a8a29e; font-weight:500; padding:12px 16px; }
        .btn-cancel:hover { color:#dc2626; }
        .results-container { animation:fadeIn 0.5s ease; }
        @keyframes fadeIn { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
        .results-top { position:relative; background:linear-gradient(135deg,#0f172a 0%,#1e3a5f 50%,#1e40af 100%); color:white; padding:32px 28px; border-radius:12px; margin-bottom:28px; text-align:center; }
        .readiness-badge { position:absolute; top:16px; right:16px; padding:6px 14px; border-radius:20px; font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:0.06em; }
        .badge-ready { background:#16a34a; color:white; }
        .badge-almost { background:#3b82f6; color:white; }
        .badge-work { background:#f59e0b; color:#1c1917; }
        .badge-not { background:#dc2626; color:white; }
        .results-score { font-family:'Merriweather',Georgia,serif; font-size:60px; font-weight:900; line-height:1; }
        .results-score-label { font-size:15px; opacity:0.7; margin-top:4px; }
        .results-section { margin-bottom:24px; }
        .results-headline { font-family:'Merriweather',Georgia,serif; font-size:22px; font-weight:700; margin-bottom:14px; color:#1c1917; }
        .results-body p { margin-bottom:12px; color:#44403c; font-size:15px; line-height:1.7; }
        .results-body strong { color:#1c1917; }
        .next-steps { background:white; border:1px solid #e7e5e4; border-radius:10px; padding:20px 24px; margin-bottom:24px; }
        .next-steps h3 { font-family:'Merriweather',Georgia,serif; font-size:16px; font-weight:700; margin-bottom:12px; color:#1c1917; }
        .next-steps ul { padding-left:20px; }
        .next-steps li { margin-bottom:8px; color:#44403c; font-size:15px; line-height:1.6; }
        .next-steps li::marker { color:#1e40af; }
        .next-steps .chapter-note { margin-top:12px; padding-top:12px; border-top:1px solid #f5f5f4; font-size:14px; color:#78716c; font-style:italic; }
        .breakdown { background:white; border:1px solid #e7e5e4; border-radius:10px; padding:20px 24px; margin-bottom:24px; }
        .breakdown h3 { font-family:'Merriweather',Georgia,serif; font-size:16px; font-weight:700; margin-bottom:16px; }
        .cat-item { display:flex; align-items:center; justify-content:space-between; padding:10px 0; border-bottom:1px solid #f5f5f4; }
        .cat-item:last-child { border:none; }
        .cat-left { display:flex; align-items:center; gap:10px; }
        .cat-dot { width:8px; height:8px; border-radius:50%; }
        .cat-name { font-size:14px; font-weight:600; color:#1c1917; }
        .cat-right { display:flex; align-items:center; gap:10px; }
        .cat-score-text { font-size:14px; font-weight:600; color:#57534e; min-width:36px; text-align:right; }
        .cat-bar-bg { width:90px; height:5px; background:#f5f5f4; border-radius:3px; overflow:hidden; }
        .cat-bar-fill { height:100%; border-radius:3px; transition:width 0.6s ease; }
        .cta-box { background:linear-gradient(135deg,#0f172a,#1e3a5f); border-radius:10px; padding:28px; text-align:center; margin-bottom:24px; }
        .cta-box p { color:#cbd5e1; font-size:15px; margin-bottom:16px; }
        .cta-box a { display:inline-block; background:white; color:#0f172a; padding:14px 36px; text-decoration:none; border-radius:8px; font-weight:700; font-size:15px; transition:all 0.15s; }
        .cta-box a:hover { background:#f0f4ff; }
        .action-row { display:flex; gap:8px; flex-wrap:wrap; margin-top:28px; padding-top:24px; border-top:1px solid #e7e5e4; }
        .action-btn { flex:1; min-width:130px; padding:12px 14px; border:1.5px solid #e7e5e4; border-radius:8px; background:white; cursor:pointer; font-size:13px; font-weight:600; color:#57534e; transition:all 0.15s; display:flex; flex-direction:column; align-items:center; gap:5px; }
        .action-btn:hover { border-color:#1e40af; color:#1e40af; background:#f8faff; }
        .action-btn svg { width:18px; height:18px; }
        .modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(15,23,42,0.6); display:flex; align-items:center; justify-content:center; z-index:1000; animation:fadeIn 0.2s ease; }
        .modal { background:white; border-radius:12px; padding:28px; width:90%; max-width:380px; box-shadow:0 20px 60px rgba(0,0,0,0.2); }
        .modal h3 { font-family:'Merriweather',Georgia,serif; font-size:18px; margin-bottom:16px; }
        .modal input { width:100%; padding:12px 14px; border:1.5px solid #e7e5e4; border-radius:8px; margin-bottom:14px; font-size:15px; font-family:inherit; }
        .modal input:focus { outline:none; border-color:#1e40af; }
        .modal-btns { display:flex; gap:10px; }
        .modal-btns .btn { flex:1; text-align:center; }
        @media print {
            body { background:white; }
            .action-row, .modal-overlay, .cta-box { display:none !important; }
            #app { padding:10px; max-width:100%; }
            .results-top { -webkit-print-color-adjust:exact; print-color-adjust:exact; }
        }
        @media (max-width:480px) {
            .results-score { font-size:48px; }
            .results-headline { font-size:19px; }
            .action-row { gap:6px; }
            .action-btn { min-width:0; padding:10px 8px; font-size:12px; }
        }
    </style>
</head>
<body>
<div id="app"></div>
<div id="modal"></div>
<script>
const questions = [
    {q:"When you think about retirement, what excites you most?", cat:"Identity & Purpose", a:["Finally having time to relax and do nothing","Getting away from work stress","Spending more time on hobbies I enjoy","Starting new projects and pursuing meaningful goals"]},
    {q:"How do you introduce yourself at social gatherings?", cat:"Identity & Purpose", a:["By my job title or company","By what I used to do professionally","By a mix of work and personal interests","By my interests, values, or what I'm currently working on"]},
    {q:"If your typical week suddenly had no structure, you would:", cat:"Identity & Purpose", a:["Feel lost without a schedule","Welcome the break but worry after a few weeks","Have some ideas but need time to figure it out","Know exactly how I'd fill my time meaningfully"]},
    {q:"If the market dropped 30% in your first year of retirement, you would:", cat:"Financial Readiness", a:["Panic and consider going back to work","Feel very stressed and unsure what to do","Be concerned but know I have a plan to adjust","Stay calm\u2014my withdrawal strategy accounts for this"]},
    {q:"How confident are you in your Social Security claiming strategy?", cat:"Financial Readiness", a:["I haven't thought about timing at all","I know I should wait, but I'm not sure why","I've done some research and have a general idea","I've run the numbers and know my optimal claiming age"]},
    {q:"When it comes to spending in retirement:", cat:"Financial Readiness", a:["I'm not sure how much I can safely spend","I have a rough budget but no withdrawal plan","I know my safe withdrawal rate but haven't tested it","I have a dynamic withdrawal strategy with guardrails"]},
    {q:"Have you and your spouse discussed what daily life looks like in retirement?", cat:"Relationships & Household", a:["No, we haven't had that conversation","We've talked casually but made no decisions","We've discussed expectations but haven't written anything down","We've had structured conversations and aligned on boundaries"]},
    {q:"How much time do you currently spend with friends outside of work?", cat:"Relationships & Household", a:["Almost none\u2014my social life is mostly work-based","Occasionally, but it's not consistent","Regularly, but I'll need to rebuild after retirement","I have strong friendships independent of work"]},
    {q:"If you and your spouse were home together every day:", cat:"Relationships & Household", a:["We'd probably drive each other crazy","It would be an adjustment we'd figure out","We'd need some ground rules but we'd be fine","We've already discussed space, routines, and boundaries"]},
    {q:"How would you rate your current physical health?", cat:"Health & Longevity", a:["Poor\u2014I've been neglecting it for years","Fair\u2014I know I need to make changes","Good\u2014I exercise sometimes but not consistently","Excellent\u2014I have a consistent fitness routine"]},
    {q:"When was your last comprehensive health screening?", cat:"Health & Longevity", a:["More than 3 years ago (or never)","1\u20132 years ago","Within the past year","Within the past 6 months, and I know my key health metrics"]},
    {q:"How do you challenge your brain regularly?", cat:"Health & Longevity", a:["I don't\u2014most of my time is passive consumption (TV, scrolling)","Occasionally through work, but not intentionally","I read regularly and do some puzzles","I'm actively learning new skills or languages"]},
    {q:"Do you have updated legal documents (will, POA, healthcare directive)?", cat:"Logistics & Planning", a:["No, I haven't done any of this","I have some outdated documents","I have updated documents but haven't communicated them","Everything is current and my family knows where to find them"]},
    {q:"If something happened to you tomorrow, could your spouse access critical accounts?", cat:"Logistics & Planning", a:["No\u2014they wouldn't know where to start","Maybe\u2014some things are documented, others aren't","Mostly\u2014we've discussed it but haven't organized everything","Yes\u2014we have a complete digital estate plan and command center"]},
    {q:"How clear are you on what you'll do in the first 90 days of retirement?", cat:"Logistics & Planning", a:["No idea\u2014I'll figure it out when I get there","Some general thoughts but no plan","I have ideas but haven't committed to anything specific","I have a written 90-day transition plan with concrete actions"]}
];
const tierData = {
    ready: {
        badge:"READY", badgeClass:"badge-ready",
        headline:"You're Ready\u2014But Stay Sharp",
        body:`<p>You've done the work most people skip. You understand that retirement is a transition, not a reward. You've thought beyond the money and built structure around purpose, relationships, health, and logistics.</p><p><strong>Your biggest risk: Overconfidence.</strong> Even with preparation, the emotional arc will surprise you. Stay vigilant for disenchantment phases and adjust.</p>`,
        steps:["Execute your 90-day transition plan in the first quarter","Revisit your withdrawal guardrails quarterly as markets shift","Schedule your Kitchen Table Summit with your spouse in Month 1","Download Tool 3 (Disenchantment Alert Tracker) to monitor emotional phases"],
        chapterNote:"Recommended chapter focus: Chapter 3 (Emotional Arc), Chapter 15 (Legacy in Motion)"
    },
    almost: {
        badge:"ALMOST THERE", badgeClass:"badge-almost",
        headline:"Close\u2014But Fill These Gaps",
        body:`<p>You're ahead of most people, but there are critical gaps that could derail your transition. You've likely focused heavily on one area (probably finances) while neglecting others (identity, relationships, logistics).</p><p>Review your answers. Where did you score 0\u20131 points? Those are your vulnerabilities. Common gaps at this level include: no withdrawal strategy or guardrails, no structured spouse conversations about daily life, outdated legal documents, no plan for social connection, and health neglected during working years.</p>`,
        steps:["This month: Complete the Decision Audit (Tool 1) to identify your weakest areas","This quarter: Address your two lowest-scoring categories with specific action","Before retiring: Schedule Kitchen Table Summit with spouse (Chapter 11)"],
        chapterNote:"Recommended chapter focus: Whatever category you scored lowest in\u2014start there."
    },
    work: {
        badge:"WORK TO DO", badgeClass:"badge-work",
        headline:"You're Not Ready\u2014Here's How to Get There",
        body:`<p>You're thinking about retirement, but you haven't built the infrastructure to make it work. Right now, you're headed for the retirement trap: enough money, no roadmap.</p><p><strong>The reality:</strong> Most men at this level retire anyway. They assume financial security equals readiness. Six months in, they're restless, directionless, and wondering why retirement doesn't feel like they expected.</p><p>You don't need motivation. You need structure\u2014frameworks for the five areas you're unprepared for: Identity (who are you without your title?), Purpose (what will you do when no one's telling you what to do?), Finances (a withdrawal strategy, not just a number), Relationships (what does daily life look like with your spouse?), and Logistics (can anyone access your accounts if something happens?).</p>`,
        steps:["Read The Retirement Trap from start to finish\u2014don't skip chapters","Complete the Decision Audit (Tool 1) before making any retirement decision","If you're within 12 months of retiring, delay until you've addressed gaps","Schedule conversations: spouse (Ch. 11), financial advisor (Ch. 6), estate attorney (Ch. 14)"],
        chapterNote:"Timeline: 6\u201312 months of structured prep. Start with Chapter 1 (Decision Audit), then Chapters 2\u20134 (Identity/Purpose), then your lowest-scoring category."
    },
    notReady: {
        badge:"NOT READY", badgeClass:"badge-not",
        headline:"Don't Retire Yet",
        body:`<p>If you retired tomorrow, you would struggle. Not because you lack resources\u2014because you lack preparation. Retirement isn't a vacation. It's a life redesign. Right now, you have no design.</p><p><strong>Hard truth:</strong> You're likely focused on one question: "Do I have enough money?" That's the wrong question. The right question is: "Am I ready for what comes after the paycheck stops?" Based on your answers, you're not.</p><p>Here's what happens if you retire now: Months 1\u20133, a honeymoon phase that feels great. Months 4\u20136, restlessness and shapeless days. Months 7\u201312, identity crisis, marriage friction, social isolation. Year 2+, you either course-correct or drift into depression, health decline, and resentment.</p>`,
        steps:["Don't set a retirement date yet\u2014you're not ready","Read The Retirement Trap cover to cover\u2014this is your roadmap","Work through every tool as you read each chapter","Build a withdrawal strategy (not just a portfolio balance)","Define what you'll do with your time\u2014actual plans, not \"relax\"","Have explicit conversations with your spouse about daily life","Update legal documents and organize your digital estate","Get a comprehensive health screening and build a fitness baseline","Retake this quiz in 6 months\u2014don't retire until you score 28+"],
        chapterNote:"Timeline: 12\u201318 months minimum. Start immediately with Chapter 1 (Decision Audit). Don't skip ahead."
    }
};
let current=0, answers=Array(15).fill(null);
function renderQuestion(){
    const q=questions[current];
    document.getElementById('app').innerHTML=`
        <div class="quiz-header"><h1>Are You Really Ready to Retire?</h1><div class="subtitle">A 15-question assessment from The Retirement Trap</div></div>
        <div class="progress-wrap"><div class="progress-info"><span>Question ${current+1} of 15</span><span>${Math.round((current+1)/15*100)}%</span></div><div class="progress-bar"><div class="progress-fill" style="width:${(current+1)/15*100}%"></div></div></div>
        <div class="question-cat">${q.cat}</div>
        <div class="question-text">${q.q}</div>
        <div style="margin-top:16px">${q.a.map((a,i)=>`<div class="option${answers[current]===i?' selected':''}" onclick="answers[${current}]=${i};renderQuestion()"><div class="option-radio"></div><div>${a}</div></div>`).join('')}</div>
        <div class="btn-row">${current>0?'<button class="btn btn-back" onclick="current--;renderQuestion()">Back</button>':''}<button class="btn btn-next" onclick="${current<14?'if(answers[current]!==null){current++;renderQuestion()}':'showResults()'}" ${answers[current]===null?'disabled':''}>${current===14?'See My Results':'Next'}</button><button class="btn btn-cancel" onclick="confirmCancel()">Cancel</button></div>`;
}
function confirmCancel(){if(confirm('Are you sure you want to quit the quiz?'))closeQuiz();}
function closeQuiz(){window.close();setTimeout(()=>{window.location.href='https://TheRetirementTrap.com'},300);}
function getCategoryScores(){
    const cats={},order=["Identity & Purpose","Financial Readiness","Relationships & Household","Health & Longevity","Logistics & Planning"];
    order.forEach(c=>cats[c]={score:0,max:0});
    questions.forEach((q,i)=>{cats[q.cat].score+=(answers[i]!==null?answers[i]:0);cats[q.cat].max+=3;});
    return cats;
}
function showResults(){
    const total=answers.reduce((s,i)=>s+(i!==null?i:0),0), cats=getCategoryScores();
    let tier;
    if(total>=38) tier=tierData.ready;
    else if(total>=28) tier=tierData.almost;
    else if(total>=16) tier=tierData.work;
    else tier=tierData.notReady;
    const catColors={"Identity & Purpose":"#6366f1","Financial Readiness":"#059669","Relationships & Household":"#d97706","Health & Longevity":"#dc2626","Logistics & Planning":"#2563eb"};
    const catHTML=Object.entries(cats).map(([name,data])=>{
        const pct=Math.round(data.score/data.max*100), color=catColors[name]||'#1e40af';
        return `<div class="cat-item"><div class="cat-left"><div class="cat-dot" style="background:${color}"></div><div class="cat-name">${name}</div></div><div class="cat-right"><div class="cat-score-text">${data.score}/${data.max}</div><div class="cat-bar-bg"><div class="cat-bar-fill" style="width:${pct}%;background:${color}"></div></div></div></div>`;
    }).join('');
    document.getElementById('app').innerHTML=`
        <div class="results-container">
            <div class="results-top"><div class="readiness-badge ${tier.badgeClass}">${tier.badge}</div><div class="results-score">${total}</div><div class="results-score-label">out of 45 points</div></div>
            <div class="results-section"><h2 class="results-headline">${tier.headline}</h2><div class="results-body">${tier.body}</div></div>
            <div class="next-steps"><h3>Your Next Steps</h3><ul>${tier.steps.map(s=>`<li>${s}</li>`).join('')}</ul><div class="chapter-note">${tier.chapterNote}</div></div>
            <div class="breakdown"><h3>Scores by Category</h3>${catHTML}</div>
            <div class="cta-box"><p>Ready to build your retirement roadmap?</p><a href="https://www.amazon.com/dp/YOUR_ASIN" target="_blank">Get The Retirement Trap \u2192</a></div>
            <div class="action-row">
                <button class="action-btn" onclick="doPrint()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9V2h12v7"/><path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></svg>Print</button>
                <button class="action-btn" onclick="doSave()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>Save</button>
                <button class="action-btn" onclick="doEmail()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 7l-10 7L2 7"/></svg>Email</button>
                <button class="action-btn" onclick="closeQuiz()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>Exit</button>
            </div>
        </div>`;
}
function doPrint(){window.print();setTimeout(closeQuiz,1500);}
function doSave(){
    const total=answers.reduce((s,i)=>s+(i!==null?i:0),0), cats=getCategoryScores();
    let tier; if(total>=38)tier=tierData.ready;else if(total>=28)tier=tierData.almost;else if(total>=16)tier=tierData.work;else tier=tierData.notReady;
    let t="ARE YOU REALLY READY TO RETIRE?\nQuiz Results from The Retirement Trap\n"+"=".repeat(50)+"\n\n";
    t+=`TOTAL SCORE: ${total} / 45  |  STATUS: ${tier.badge}\n\n${tier.headline}\n${"─".repeat(40)}\n\n`;
    t+=tier.body.replace(/<[^>]+>/g,'').replace(/\s+/g,' ').trim()+"\n\n";
    t+="NEXT STEPS:\n";tier.steps.forEach((s,i)=>{t+=`  ${i+1}. ${s}\n`;});
    t+=`\n${tier.chapterNote}\n\nCATEGORY BREAKDOWN:\n${"─".repeat(40)}\n`;
    Object.entries(cats).forEach(([n,d])=>{const bar="\u2588".repeat(Math.round(d.score/d.max*10))+"\u2591".repeat(10-Math.round(d.score/d.max*10));t+=`  ${n.padEnd(28)} ${d.score}/${d.max}  ${bar}\n`;});
    t+="\nYOUR ANSWERS:\n"+"─".repeat(40)+"\n";
    questions.forEach((q,i)=>{t+=`\n${i+1}. ${q.q}\n   \u2192 ${q.a[answers[i]]} (${answers[i]} pts)\n`;});
    t+="\n"+"=".repeat(50)+"\nLearn more: https://TheRetirementTrap.com\n";
    const blob=new Blob([t],{type:'text/plain'}),a=document.createElement('a');
    a.href=URL.createObjectURL(blob);a.download='Retirement-Quiz-Results.txt';a.click();URL.revokeObjectURL(a.href);
    setTimeout(closeQuiz,1500);
}
function doEmail(){
    document.getElementById('modal').innerHTML=`<div class="modal-overlay" onclick="if(event.target===this)cancelEmail()"><div class="modal"><h3>Email Your Results</h3><p style="color:#78716c;font-size:14px;margin-bottom:14px">We'll send your full score breakdown and personalized next steps.</p><input id="emailField" type="email" placeholder="Enter your email address"><div class="modal-btns"><button class="btn btn-next" onclick="sendEmail()">Send</button><button class="btn btn-back" onclick="cancelEmail()">Cancel</button></div></div></div>`;
    setTimeout(()=>document.getElementById('emailField').focus(),100);
}
function sendEmail(){
    const email=document.getElementById('emailField').value;
    if(!email||!email.includes('@')||!email.includes('.')){alert('Please enter a valid email address.');return;}
    const total=answers.reduce((s,i)=>s+(i!==null?i:0),0);
    console.log('Email results to:',email,'Score:',total,'Answers:',answers);
    alert('Results sent to '+email+'!');
    document.getElementById('modal').innerHTML='';
    setTimeout(closeQuiz,500);
}
function cancelEmail(){document.getElementById('modal').innerHTML='';}
renderQuestion();
</script>
</body>
</html>
